ch.20 軟件開發安全
domain 3,8
```
軟件開發  每階段初期應考慮建構安全性、關鍵應用和處理敏感信息更高安全級別
-->編程語言  機器語言是二進制、彙編語言使用助記符表示CPU基本指令、高級編程語言更接近人際交流方式編寫代碼
>>>編譯型：c,java使用編譯器(JVM)轉換成特定操作可使用執行文件、
--->反編譯器將二進制可執行文件轉回源代碼、應阻止反編譯器的使用、不易被第三方操作

>>>解釋型：py,R,JS,VBS 會自動使用解釋器執行儲存在系統上源代碼、可查看編寫的原始指令、不易插入惡意代碼因為可檢查準確性
-->>庫  依賴包含可重用代碼共享開源庫不用親自寫一遍、應隨時瞭解出現的安全漏洞跟使用代碼來源、保持警惕和關注
-->>開發工具 開發環境IDE 可編寫測試調適編譯代碼、減少任務的集成

-->面向對象編程OOP,ObjectOrientedProgramming
-->關注交互所涉及的要求執行特定一組對象、來提供系統功能或能力：：每個對象又對應特定操作方式、繼承父類方法
>>>用戶只需要對象的接口細節但不一定對象內部怎模運行、只能用特定消息訪問他們、提供兼容操作來替換彼此
>>>消息：對象的通信或輸入、
>>>方法：響應消息操作內部代碼、
>>>行為：處理結果或輸出的行為、
>>>類：對象行為一組公共方法的集合
>>>實例：對象方法的類的實例、繼承：父類或超類被另一個子類繼承時就會出現繼承性
>>>委託：請求轉發給另一個對象(沒有處理特定消息)、多態性：當外部條件變化允許對象以不同行為響應相同消息的方法
>>>內聚 相同類中各種方法的目的之間相似強度，高內聚設計原則理想條件：低內聚就是設計不好、
>>>耦合  對象之間交互級別．低耦：交互少更獨立更優設計、檢測故障跟更新、高藕：低內聚需要其他對想大量幫助完成任務

-->保證  新程序在建構的安全機制能正確實施安全策略、管理員保證程序：週期內構建信任的正規過程

-->避免和抑制系統故障  適當響應、避免故障
>>>輸入驗證(限制檢測)  通過代碼檢測確保數字落在可接受範圍和(轉譯輸入)異常風險字符用安全值替換敏感字符、
---->>向最終用戶呈現相同字符
>>>身份驗證與繪畫管理  確認只執行授權操作始終安全跟蹤用戶會話、身份認證級別與敏感程度關聯使用MFA、會話令牌在超時重新認證
---->>使用加固認證系統比特定應用程序認證更安全、也考慮外部開發和驗證過的身份驗證庫、web 隨機生成cookie值在安全加密通道傳輸

>>>錯誤處理  返回詳細信息更容易診斷用戶遇到問題、禁止任何可公開訪問服務器或應用程式提供詳細錯誤消息(調適模式)
>>>紀錄  被配置將錯誤和其他安全事件發送到集中日誌庫
--->>(驗證失敗、認證嘗試、訪問失敗、竄改嘗試、使用無效過期令牌、系統引發異常、特權使用、TLS故障、加密錯誤)
>>>失效關閉  高級別安全狀態或完全禁用、直到管理診斷問題並還原至正常操作
>>>失效打開  允許繞過安全控制或獲得特權過高，所以失效關閉是恰當故障裝態、明確驗證業務要求並採取適當控制來保護組織資源．
--->>應努力防止錯誤出現、避免應用程序直接訪問硬件、繞過安全訪問檢查、進到其他內存空間造成環境不再可信、
--->>人工重啟並監督、通過輸入啟動碼自動恢復正常狀態、管理員應負責打開和配置與特定環境需求匹配的安全性
--->>安全性、功能性、用戶友好性
```
```
系統開發生命週期  處理程序如何工作及支撐安全系統開發的基本原理
-->概念定義  所有利益相關方達成簡單聲明、規定項目用途和大體需求的摘要跟簡介對項目有高度概括性的理解、確定處理數據分類和適用處理要求
-->功能需求確定  具體系統功能、階段輸出是功能需求文檔三個主要特徵、相關方同意功能需求文檔及當作檢查表確保所有功能得到滿足．
--->>輸入：提供函數數據、行為：應採什麼行動響應不同輸入業務邏輯、輸出：函數提供的數據
#用户的输入做验证，检测不寻常的字符。应该在服务器端作 输入验证，浏览器的代码容易受到用户的操纵

-->控制規範的制定  多角度安全分析：訪問控制、只有授權才可訪問並不可越權、正確加密和保護關鍵數據的保密性、提供審計蹤跡強制個人問責
--->>對非法活動的檢測機制、根據重要性解決可用性和容錯問題、利用正確安全機制更新系統、每次重大改動要再次考慮安全需求

-->設計審查  位不同團隊佈置具體任務、設定編碼重要節點的初步完成時間、正式設計文檔應招開審查會議確保過程進展正常具預期功能的系統  
-->編碼  編寫符合設計並滿足用戶需求代碼
-->代碼審查演練  特定模塊代碼副本演練、尋找邏輯留問題的安全缺限、確保依據規範開發代碼

-->系統測試審查  多次代碼審查、根據預定場景驗證系統的常見和不常見的用戶活動、新舊代碼有相同執行方式、
--->>回歸測試驗證過程功能測試和是否為解決重大安全問題測試、UAT用戶驗證代碼是否滿足需求、務必保存書面測試計畫和結果

-->維護和變更管理  確保持續運作必要多樣維護工作、處理常規或意外維護任務、任何變更都通過正式變更管理流程
```
生命週期模型SDLC
```
事件案開發團隊和領導的工作、網安專業人員應確保安全原則與軟件開發模型緊密相融
-->瀑布模型  一系列'連續'活動的七個階段、迭代不鋪模型允許開發返回前一個階段修正缺陷、“反饋迴路特性”
####纠正在后续阶段发现的错误。这被称为瀑布模型的反馈循环特征
--->>但沒規定如何處裡開發後期發現錯誤、驗證根據規範評估產品、確認評估產品實際需求、但未廣泛應用
--->>系統需求、軟件需求、初步設計、詳細設計、編碼調測、測試、運營與維護：：大規模工作已交付完成的系統
###細節按表操課,熟悉且掌握度高，但現在環境太複雜較難因應變化

-->螺旋模型  允許瀑布處理過程'多次反覆'的迭代、也稱為 元模型、模型的模型：：越來越完善圓形強化質量控制
--->>每次回路都導致新系統原型開發、每隔原型開發應用完整瀑布處理過程逐漸滿足所有功能要求到成熟系統
###強調風險管理、每期作完客戶會看到些產出(但還不能上線)、但結果不能實際使用


-->敏捷開發  強調客戶需求和注重快速開發新功能已迭代方式滿足這些需求、定期開會審查和計畫他們的工作。
>>>個體交互>過程和工具、可工作軟件>全面文檔、客戶合作>合同談判、響應變更>遵循計畫
>>>通過不斷及早交付有價值軟件使客戶滿意、歡迎變更需求利用變化為客戶競爭優勢、經常交付可工作軟件較短週期、業務和開發人員必須每天合作
>>>為核心搭建項目提供所需環境和支援、傳遞消息最高效是面對面交談、可工作軟件是度量進度的首要標準、可持續開發要持續保值步調穩定
>>>追求卓越紀錄和良好設計增強敏捷性、簡潔為本減少不必要的工作量、最好架構需求設計出自自組團隊、反思如何提高成效調整期行為

-->Scrum 日常團隊簡短會議、討論每個成員貢獻、阻礙他們進步的努力清除、由主管擔任項目管理角色協助前進並實現目標
>>>段時間活動衝刺定義明確時間段、每次結束應該有個功能齊全產品可以發布或引進新功能、IPT(最早)促進並行決策而不是順序決策

-->能力成熟度SW-CMM,SCMM  幫助軟件改善混亂過程的成熟度和質量、軟體質量依賴開發過程的質量
|1|初始級:雜亂無章方式向前衝、沒有定義開發過程、只專注編程和測試
|2|可重復級:類似項目政策應具有可重復的結果關鍵過程、
-->SEI(需求管理、項目計畫編制、項目跟蹤和監督、轉包合同管理、軟件質量保障、軟件配置管理)
|3|定義級:文檔化軟體開發過程都在標準模型的制約下進行、
-->SEI(過程關注點、過程定義、培訓計畫、集成軟件管理、產品工程、組間協調、同行評審)
|4|管理級:‘定量方法過程管理的軟件質量管理、有預期高質量
|5|優化級:持續改進將一個階段反饋給前一個階段，SEI(缺陷預防、技術變更管理、過程變更管理)

-->軟件保證成熟度SAMM OWASP維護開源項目，安全活動集成到開發和維護過程提供評估成熟度能力五個業務
>>>治理:管理軟件開發過程而進行的活動(戰略、指標、策略、合規、教育和指導實踐)
＊>>設計:需求和創建過程(威脅建模、評估、安全需求、架構)、
>>>實施:建構和部屬組件及管理組件缺陷(安全構建、部屬、缺陷管理實踐)
>>>驗證:代碼滿足業務和安全需求(架構分析、需求驅動測試、安全測試)、
>>>運營:發布後維護安全性而採集行動(事件、環境、運營)

-->IDEAL 實現多個SW-CMM屬性的五階段
>>>啟動:概述更改原因、為啟動提供支持準備恰當基礎設施、診斷:當前狀態給一般性變更建議
>>>建立:採用診斷的一班建議實現變更的具體行動計畫、行動:制定解決方案、隨後測試、改進、實施解決方案
>>>學習:不斷分析其努力結果是否已實現目標、必要時採取新行動重反正軌
```
|IDEAL|SW-CMM|
|:--|:--|
|啟動|初始|
|診斷|可重復|
|建立|定義|
|行動|管理|
|學習|優化|
```
-->甘特圖  項目和調度之間變化的條形圖，’協調同團隊和其他資源任務'
-->PERT(計畫評審計畫) 開發中產品規模跟風險評估的偏差表準、不同任務依賴關係、'更好管理時間和執行任務調度'
###PERT 被用于直接改进项目管理和软件编码，以便开发更有效的软件
＊＊順序
-->變更和配置管理  新功能、糾正漏洞並對代碼執行其他變更並集中紀錄來支持審計、調查、故障排除、分析需求
>>>能夠檢測對系統進行非授權變更的主要組件來使用、文件完整性告警集中到監管中心、告警跟變更許可要關連起來、無法關聯再發給管理員
>>>請求控制  :用戶請求變更、管理者可進行效益分析、開發人員可優化任務
>>>變更控制  :變更過程了解特定情況和分析作適當變更、質量控制約束、開發用於更新或變更部屬的工作、
---->>正確紀錄任何變化、最小化新代碼安全性負面影響
>>>發布控制  :聽過發布控制過程發布、任何輔助測試代碼工具是否移除、流程確保已批准變更、應包含驗收測試、
-->->範圍內使用軟件版本並正式跟蹤和控制對軟件配置邊更的四個主要組件
>>>配置標示:紀錄範圍內軟件產品配||配置控制:軟件版本變更和變更控制和配置管理策略一致、只有符合才能執行更新操作
>>>配置狀態統計:跟蹤發生所有授權變更的正規過程||配置審計:確保實際和統計紀錄一致、防止未授權配置變更

-->DevOps 開發和質量保證避免脫節造成衝突、導致時間延遲不合作解決問題。常語敏捷方法結合、多次部屬透過CICD管道高度自動化
-->應用編程接口  :跨站交互功能目標而提供API接口，通過功能調用直捷與底層服務(發布狀態、關注跟取消用戶、)進行交互
-->->API開發人員需知道何時需要用到身分驗證並確保每個API調用憑證授權(授權密鑰:僅加密傳輸)(curl 發送請求)

-->軟件測試  內部發布徹底測試、最佳時機是設計模塊應該開發特殊數據測試套件充分執行所有路徑並知道正確輸出結果、
--->判斷不正確類型越界質或邊界條件
>>>實際工作量最佳壓力測試但為保護數據完整性和保密性不使用實際資料、職權分離開發以外的人員測試或第三方軟件防止偏見影響結果
>>>白盒  內部邏輯結構逐行執行代碼、關鍵是測試人員可以訪問源代碼
>>>黑盒  廣放數入場景查看輸出、用戶角度、不訪問內部代碼、交付前最終驗收測試
>>>灰盒  用戶角度檢查軟件分析輸出輸入、會訪問源代碼幫助設計測試、但不分析內部工作原理

-->代碼庫  存放代碼中心儲存點、提供版本控制、錯誤跟蹤、web託管、發布管理
>>>管理者須控制訪問權授予寫入或讀取敏感(API key、密碼、內部名稱、數據庫名稱)權限避免竄改

-->服務水平協議SLA  正常運行時間、最大連續停機時間、高峰/平均負荷、責任診斷、容災切換時間(冗余到位)
>>>財務或其他合約補償性措施、監控性指標

-->第三方軟件採購  企業購買商業現貨COTS根據業務需求和商用cots或開源oss軟件可用性、
-->正確配置滿足安全目標、關注安全公告補丁修復新發現漏洞
>>>SaaS大部分安全責任是供應商承擔(審計、評估、漏洞掃描)驗證是否維護適當控制措施，但組織還是要負部分法律責任
```
表(關係)
||行(字段/屬性)|colume|colume|
|:--:|:--:|:--:|:--:|
|列(紀錄/元組)||||
|row度||||
```
創建數據庫和數據倉儲  具備適當安全措施  DBMS:ODBC、多實例、聚合、推理、機器學習
-->層次式數據庫  一對多、節點可能沒有子節點(組織結構圖、DNS)
-->分布式數據庫  多對多、邏輯連接、每個字斷句有許多子和父字段

-->關聯數據庫RDBMS  一對一、一組相關紀錄、多屬性或字段紀錄和元祖
##表(關係)、行(紀錄/元組)、列(字段/屬性)##
>>>面向對象編程和數據庫OODB  方便代碼重用、故障分析及減少整體維護工作量、更適於多媒體、視頻、圖形應用
>>>行的數量是基數、列的數量適度、屬性的域可用一組允許值、紀錄使用多種鍵進行標示、鍵是表中字段的子集交叉引用信息
>>>候選鍵  紀錄屬性子集、屬性值都完全不相同、每個比可能一個或多個後選鍵、從列的標頭選出
>>>主鍵   紀錄的鍵、每個表只有一個主鍵、不允許相同主鍵插入多個紀錄的唯一性
>>>備用鍵  未被成為主鍵的後選鍵
>>>外鍵  強制在兩表之間建立關係、參照完整性保證、確保任何紀錄/元組/行都不包含對不存在在的主見引用
>>>使用結構查詢語言SQL  從用戶儲存、檢索、更改數據和管理控制DBMS一致接口、都支持同一核心特性、
>>>SQL安全特性是授權粒度極(細級別設置權限、獨立單元格限制用戶訪問)、
>>>定義范氏數據庫組織級別1NF,2NF,3NF 消除表種冗於:消除錯誤放置數據、執行其他內置處理任務。
>>>數據定義語言DDL:允許創建和更改數據庫結構 ::  數據操縱語言DML:允許用戶和模式內包含數據交互

-->數據庫事務  顯式(明確指定開始和結束)和隱式(自動操作精細簡潔控制)使用從而確保完整性，
->>>A原子性  事務任何一部分失敗都會滾回原狀態
->>>C一致性  所有規則不論何時保持一致，不能利用某事務執行期間產生任何不一致的數據。
->>>I隔離性  彼此獨立操作，允許一個事務修改前、另一個要完全結束。避免中途生成無效數據
->>>D持久性  提交就會被保留下來、透過備份機制確保持久性

-->多級數據庫的安全  不同安全需求數據分開、要求不同數據混合再一起稱為數據汙染
>>> 視圖限制訪問  視圖將數據提供給用戶的SQL語句、可以用視圖整理來自多張表的數據、
->>>一種安全工具使用允許用戶只與受限視圖交換、不與作為視圖基礎原始數據表交換

>>>並發性 丟失更新:兩個不同進程更新數據庫被另一個事務覆蓋、髒讀取:讀到未成功紀錄未完全滾回、留下部分不正確信息
-->>使用鎖定已授權用戶更改拒絕其他用戶查看或更改，完成後解鎖才允許訪問。成為一種檢測控制

->>>聚合  利用函數組合一個或多個表生成有用信息、權限審查(職位異動)::攻擊:使用聚合函數處理大量未分類紀錄來判斷級別
""深度防禦、因需可知、最小特權"""
->>>推理  涉及組合多個非敏感信息人類思維 生成更高級別才可訪問的信息、授予單個用戶權限、有意模糊數據防範推斷敏感信息。
###從現有數據得出結論

>>>其他安全機制  語意完整性確保用戶動作不會違反任何結構規則、是否在有效範圍內、確保只存在邏輯直、唯一性約束
>>>分布是數據庫利用時間和日期標記維護完整性和可用性、需按照時間順序來實施
>>>基於被訪問對象的內容或有效載荷進行控制、單元抑制:隱藏單獨數據庫字段或單元施加更多安全約束
>>>上下文關聯訪問控制權  每個對象、數據包、字段如何與總體活動或通信聯繫、環境易展露良性和惡性、
＊多實例化：拆開兩級別設計數據副本、具有不同安全級別用戶展示

>>>噪音和擾動  插入錯誤的誤導性數據從而重定向或阻止信息保密性攻擊、要確定噪音不會影響業務營運


-->開放數據庫互聯ODBC  允許應用程式和不同類型數據庫通信到代理角色、自由創建解決方案，而不必考虑后端

-->NoSQL  需提高速度或無法適應表格形式的儲存數據最簡單模型、設計適當安全控制和諮詢數據庫團隊
>>>鍵值(唯一標示紀錄索引)對中儲存信息、適用高速應用程序和非常大量數據集、但剛性結構將需要大量的開銷
>>>圖形格式數據、用節點表示對象、用邊緣表示關係、可用於任何類型網路可用圖形表示的數據集
>>>文件儲存鍵值：常用類型包括XML和JSON
```
```
儲存器威脅 DBMS只適用於傳統"前門"來訪問信息的管道跟透過機算計機的內存和物理介質、應避免安全漏洞威脅採取預防措施
-->防止非法訪問、繞過操作系統控制直接訪問儲存介質以檢索數據做攻擊、應加密文件系統只有通過操作系統才可訪問的共享內存和儲存資源適當級別控制措施
-->隱蔽儲存通道准許直接或間接操作共享儲存介質、可用空間和文件大小偷偷傳送消息

理解基於知識系統  人工智能模擬人類推理能力 if/then
-->專家系統  特殊科學累積知識具現化的知識庫和推理引擎
>>>推理引擎：知識庫信息分析得到正確決策、使用邏輯推理跟模糊推理邏輯、基於過去經驗的結論(貸款機構作信用決策)

-->機器學習ML 分析數據集中發現知識不直接用人類洞察力、開發跟更新活動模型
>>>監督學習：提供一個數據及或正確解答並允許算法開發可被應用於未來情況的模型
>>>無監督學習：使用未標記數據進行訓練、提供算法數據不包含正確答案、而要求算法獨立開發模型、識別類似登入組識別可能的惡意

-->神經網路  深度學習或知識系統、線型輸出入映射和自適應型(語音人臉識別、天氣預報及關於意識思考研究方面)
>>>多層次求和、每一層求和需要加權信息反映預期決策制定過程相對重要性
>>> delta規則：網路提供正確覺已知輸入信息、計算鏈中每個節點確定正確權重植

决策支持系统(Decision Support System, DSS)
是一种知识型应用， 它分析业务数据，并且以更容易做出业务决策的形式给用户

```
