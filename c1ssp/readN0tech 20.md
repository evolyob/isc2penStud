ch.20 軟件開發安全
domain 3,8
```
軟件開發  每階段初期應考慮建構安全性、關鍵應用和處理敏感信息更高安全級別
-->編程語言  機器語言是二進制、彙編語言使用助記符表示CPU基本指令、高級編程語言更接近人際交流方式編寫代碼
>>>編譯型：c,java使用編譯器(JVM)轉換成特定操作可使用執行文件、反編譯器將二進制可執行文件轉回源代碼、應阻止反編譯器的使用、不易被第三方操作
>>>解釋型：py,R,JS,VBS 會自動使用解釋器執行儲存在系統上源代碼、可查看編寫的原始指令、不易插入惡意代碼因為可檢查準確性
-->>庫  依賴包含可重用代碼共享開源庫不用親自寫一遍、應隨時瞭解出現的安全漏洞跟使用代碼來源、保持警惕和關注
-->>開發工具 開發環境IDE 可編寫測試調適編譯代碼、減少任務的集成
-->面向對象編程OOP 關注交互所涉及的要求執行特定一組對象、來提供系統功能或能力：：每個對象又對應特定操作方式、繼承父類方法
>>>用戶只需要對象的接口細節但不一定對象內部怎模運行、只能用特定消息訪問他們、提供兼容操作來替換彼此
>>>消息：對象的通信或輸入、方法：響應消息操作內部代碼、行為：處理結果或輸出的行為、
>>>類：對象行為一組公共方法的集合
>>>實例：對象方法的類的實例、繼承：父類或超類被另一個子類繼承時就會出現繼承性
>>>委託：請求轉發給另一個對象(沒有處理特定消息)、多態性：當外部條件變化允許對象以不同行為響應相同消息的方法
>>>內聚 相同類中各種方法的目的之間相似強度，高內聚設計原則理想條件：低內聚就是設計不好、
>>>耦合  對象之間交互級別．低耦：交互少更獨立更優設計、檢測故障跟更新、高藕：低內聚需要其他對想大量幫助完成任務

-->保證  新程序在建構的安全機制能正確實施安全策略、管理員保證程序：週期內構建信任的正規過程

-->避免和抑制系統故障  適當響應、避免故障
>>>輸入驗證(限制檢測)  通過代碼檢測確保數字落在可接受範圍和(轉譯輸入)異常風險字符用安全值替換敏感字符、向最終用戶呈現相同字符
>>>身份驗證與繪畫管理  確認只執行授權操作始終安全跟蹤用戶會話、身份認證級別與敏感程度關聯使用MFA、會話令牌在超時重新認證
---->>使用加固認證系統比特定應用程序認證更安全、也考慮外部開發和驗證過的身份驗證庫、web 隨機生成cookie值在安全加密通道傳輸

>>>錯誤處理  返回詳細信息更容易診斷用戶遇到問題、禁止任何可公開訪問服務器或應用程式提供詳細錯誤消息(調適模式)
>>>紀錄  被配置將錯誤和其他安全事件發送到集中日誌庫
--->>(驗證失敗、認證嘗試、訪問失敗、竄改嘗試、使用無效過期令牌、系統引發異常、特權使用、TLS故障、加密錯誤)
>>>失效關閉  高級別安全狀態或完全禁用、直到管理診斷問題並還原至正常操作
>>>失效打開  允許繞過安全控制或獲得特權過高，所以失效關閉是恰當故障裝態、明確驗證業務要求並採取適當控制來保護組織資源．
--->>應努力防止錯誤出現、避免應用程序直接訪問硬件、繞過安全訪問檢查、進到其他內存空間造成環境不再可信、
--->>人工重啟並監督、通過輸入啟動碼自動恢復正常狀態、管理員應負責打開和配置與特定環境需求匹配的安全性
--->>安全性、功能性、用戶友好性
```
```
系統開發生命週期  處理程序如何工作及支撐安全系統開發的基本原理
-->概念定義  所有利益相關方達成簡單聲明、規定項目用途和大體需求的摘要跟簡介對項目有高度概括性的理解、確定處理數據分類和適用處理要求
-->功能需求確定  具體系統功能、階段輸出是功能需求文檔三個主要特徵、相關方同意功能需求文檔及當作檢查表確保所有功能得到滿足．
--->>輸入：提供函數數據、行為：應採什麼行動響應不同輸入業務邏輯、輸出：函數提供的數據

-->控制規範的制定  多角度安全分析：訪問控制、只有授權才可訪問並不可越權、正確加密和保護關鍵數據的保密性、提供審計蹤跡強制個人問責
--->>對非法活動的檢測機制、根據重要性解決可用性和容錯問題、利用正確安全機制更新系統、每次重大改動要再次考慮安全需求

-->設計審查  位不同團隊佈置具體任務、設定編碼重要節點的初步完成時間、正式設計文檔應招開審查會議確保過程進展正常具預期功能的系統  
-->編碼  編寫符合設計並滿足用戶需求代碼
-->代碼審查演練  特定模塊代碼副本演練、尋找邏輯留問題的安全缺限、確保依據規範開發代碼

-->系統測試審查  多次代碼審查、根據預定場景驗證系統的常見和不常見的用戶活動、新舊代碼有相同執行方式、
--->>回歸測試驗證過程功能測試和是否為解決重大安全問題測試、UAT用戶驗證代碼是否滿足需求、務必保存書面測試計畫和結果

-->維護和變更管理  確保持續運作必要多樣維護工作、處理常規或意外維護任務、任何變更都通過正式變更管理流程
```
生命週期模型SDLC
```
事件案開發團隊和領導的工作、網安專業人員應確保安全原則與軟件開發模型緊密相融
-->瀑布模型  一系列連續活動的七個階段、迭代不鋪模型允許開發返回前一個階段修正缺陷、“反饋迴路特性”
--->>單沒關定如㪋處裡開發後期發現錯誤、驗證根據規範評估產品、確認評估產品實際需求、但未廣泛應用
--->>系統需求、軟件需求、初步設計、詳細設計、編碼調測、測試、運營與維護：：大規模工作已交付完成的系統

-->螺旋模型  允許瀑布處理過程多次反覆的迭代、也稱為 元模型、模型的模型：：越來越完善圓形強化質量控制
--->>每次回路都導致新系統原型開發、每隔原型開發應用完整瀑布處理過程逐漸滿足所有功能要求到成熟系統

-->敏捷開發  強調客戶需求和注重快速開發新功能已迭代方式滿足這些需求、定期開會審查和計畫他們的工作。
>>>個體交互>過程和工具、可工作軟件>全面文檔、客戶合作>合同談判、響應變更>遵循計畫
>>>通過不斷及早交付有價值軟件使客戶滿意、歡迎變更需求利用變化為客戶競爭優勢、經常交付可工作軟件較短週期、業務和開發人員必須每天合作
>>>為核心搭建項目提供所需環境和支援、傳遞消息最高效是面對面交談、可工作軟件是度量進度的首要標準、可持續開發要持續保值步調穩定
>>>追求卓越紀錄和良好設計增強敏捷性、簡潔為本減少不必要的工作量、最好架構需求設計出自自組團隊、反思如何提高成效調整期行為

-->Scrum 日常團隊簡短會議、討論每個成員貢獻、阻礙他們進步的努力清除、由主管擔任項目管理角色協助前進並實現目標
>>>段時間活動衝刺定義明確時間段、每次結束應該有個功能齊全產品可以發布或引進新功能、IPT促進並行決策而不是順序決策

-->能力成熟度SW-CMM,SCMM  幫助軟件改善過程的成熟度和質量、軟體質量依賴開發過程的質量
|1|初始級:雜亂無章方式向前衝、沒有定義開發過程、只專注編程和測試
|2|可重復級:類似項目政策應具有可重復的結果關鍵過程、SEI(需求管理、項目計畫編制、項目跟蹤和監督、轉包合同管理、軟件質量保障、軟件配置管理)
|3|定義級:文檔化軟體開發過程都在標準模型的制約下進行、SEI(過程關注點、過程定義、培訓計畫、集成軟件管理、產品工程、組間協調、同行評審)
|4|管理級:定量方法過程管理的軟件質量管理、有預期高質量
|5|優化級:持續改進將一個階段反饋給前一個階段，SEI(缺陷預防、技術變更管理、過程變更管理)

-->軟件保證成熟度SAMM OWASP維護開源項目，安全活動集成到開發和維護過程提供評估成熟度能力五個業務
>>>治理:管理軟件開發過程而進行的活動(戰略、指標、策略、合規、教育和指導實踐)
>>>設計:需求和創建過程(威脅建模、評估、安全需求、架構)、實施:建構和部屬組件及管理組件缺陷(安全構建、部屬、缺陷管理實踐)
>>>驗證:代碼滿足業務和安全需求(架構分析、需求驅動測試、安全測試)、運營:發布後維護安全性而採集行動(事件、環境、運營)

-->IDEAL 實現多個SW-CMM屬性的五階段
>>>啟動:概述更改原因、為啟動提供支持準備恰當基礎設施、診斷:當前狀態給一般性變更建議
>>>建立:採用診斷的一班建議實現變更的具體行動計畫、行動:制定解決方案、隨後測試、改進、實施解決方案
>>>學習:不斷分析其努力結果是否已實現目標、必要時採取新行動重反正軌
```
|IDEAL|SW-CMM|
|:--|:--|
|啟動|初始|
|診斷|可重復|
|建立|定義|
|行動|管理|
|學習|優化|
```
-->甘特圖  項目和調度之間變化的條形圖，協調同團隊和其他資源任務
-->PERT(計畫評審計畫) 開發中產品規模跟風險評估的偏差表準、不同任務依賴關係、更好管理時間和執行任務調度

-->變更和配置管理  新功能、糾正漏洞並對代碼執行其他變更並集中紀錄來支持審計、調查、故障排除、分析需求
>>>能夠檢測對系統進行非授權變更的主要組件來使用、文件完整性告警集中到監管中心、告警跟變更許可要關連起來、無法關聯再發給管理員
>>>請求控制  :用戶請求變更、管理者可進行效益分析、開發人員可優化任務
>>>變更控制  :變更過程了解特定情況和分析作適當變更、質量控制約束、開發用於更新或變更部屬的工作、正確紀錄任何變化、最小化新代碼安全性負面影響
>>>發布控制  :聽過發布控制過程發布、任何輔助測試代碼工具是否移除、流程確保已批准變更、應包含驗收測試、
-->->範圍內使用軟件版本並正式跟蹤和控制對軟件配置邊更的四個主要組件
>>>配置標示:紀錄範圍內軟件產品配||配置控制:軟件版本變更和變更控制和配置管理策略一致、只有符合才能執行更新操作
>>>配置狀態統計:跟蹤發生所有授權變更的正規過程||配置審計:確保實際和統計紀錄一致、防止未授權配置變更

-->DevOps 開發和質量保證避免脫節造成衝突、導致時間延遲不合作解決問題。常語敏捷方法結合、多次部屬透過CICD管道高度自動化
-->應用編程接口  :跨站交互功能目標而提供API接口，通過功能調用直捷與底層服務(發布狀態、關注跟取消用戶、)進行交互
-->->API開發人員需知道何時需要用到身分驗證並確保每個API調用憑證授權(授權密鑰:僅加密傳輸)(curl 發送請求)

-->軟件測試
>>>
>>>白盒
>>>黑盒
>>>灰盒

-->代碼庫
>>>
-->服務水平協議SLA
>>>

-->第三方軟件採購
>>>
>>>SaaS
-->
-->
```
```
創建數據庫和數據倉儲
-->層次式數據庫和分布式數據庫
>>>

-->關聯數據庫
>>>
>>>
>>>候選鍵
>>>主鍵
>>>備用鍵

-->數據庫事務
->>>原子性
->>>一致性
->>>隔離性

-->多級數據庫的安全
>>> 
>>>並發性
->>>聚合
->>>推理

>>>其他安全機制
>>>
>>>

-->開放數據庫互聯ODBC
>>>

-->NoSQL
>>>
>>>
>>>XML JSON

```
```
儲存器威脅
-->
理解基於知識系統
-->專家系統
>>>
-->機器學習ML
>>>
-->神經網路
>>> delta
```
