ch.15 安全評估與測試
```
安全測試  定期手動檢測控制措施是否正常、頻繁自動測試、配合外部滲透測試、風險優先級方法、人工解讀判斷
-測試資源可用性、待測控制措施保護程式的重要性、所含信息敏感性、出現技術故障和危及安全性錯誤配置可能性、
-受攻擊風險、控制措施配置變更頻率、技術環境下可能影響措施性能的其他變更、展開測試難度和時間、對正常業務營運造成影響

安全評估 安全性全面性檢查、評估期間識別可能造成安全漏洞提出修補建議
-NIST SP 800-53A::1.規範稽核系統相關文件 2.機制:滿足規範的控制措施(軟硬件) 3.活動:所採取的行動(備份、帳戶logs)4.人員:執行規範機制和活動
安全稽核   控制措施的有效性跟潛在利益衝突、防止、限制、檢測未經授權訪問跟控制措施脆弱性
>>>  系統邊界、AAA、加密敏感數據、稽核、監測系統活動控制措施
>>> 稽核員通常可以全權訪問組織所有訊息
-內部稽核  完全獨立所有的評估，直向總裁,CEO,董事報告
-外部稽核  沒有利益衝突，很高公信力
-第三方稽核   AICPA美國註冊會計師協會、
(SSAE18+ISAE3402)服務組織控劑SOC稽核、只要一次第三方稽核評估共享最終評估報告
>SOC1   可能影響財務報告準確性的組織控制措施
>SOC2  組織控制措施影響儲存信息的CIA和隱私，結果是保密(保密協議內範圍)
>SOC3  組織控制措施影響儲存信息的CIA和隱私，稽核結果公開紕漏
>> I 類  (文審)特定時間點設及管理提供描述和控制措施適用性
>> II類  措施運行的有效性涵蓋更長一段時間、現場驗證控制功能是否正常。

-稽核標準  
->COBIT 信息相關技術控制目標，ISACA維護框架、稽核和評估通用框架
->ISO27002  建立信息安全管理系統標準方法，控制措施細節
```
漏洞評估
```
漏洞描述 NIST SCAP|安全社區內容自動化協議
=CVE  |通用漏洞紕漏    ::安全漏洞命名系統
=CVSS |通用漏洞評分系統::安全漏洞嚴重性邊準話評分系統
=CCE  |通用配置枚舉    ::配置問題命名系統
=CPE  |通用平台枚舉    ::操作系統、應用程序、設備的命名系統
=XCCDF|可擴展配置檢查表描述格式 ::安全檢查表的語言
=OVAL |開放漏洞評估語言 ::安全測試過程的語言

漏洞掃描   開放網路端口
-
>TCP SYN   丟SYN回應SYN+ACK代表端口是開啟，半開放掃描
>TCP coonet 向遠端系統的端口全連接、沒運行半開放掃描所需權限
>TCP ACK    表明是個開方連接，可嘗試FW規則或方法
>UDP  檢查存活的UDP服務
>Xmas 發送設置FIN PSH URD標誌位的數據包
>常規漏洞掃描無法檢測零日漏洞
>身分認證式掃描是有效、精準度高、減少漏報和誤報
|FTP 20/21|NTP 123|Telnet 23|
|SMTP 25|DNS 53|HTTP 80|

|SSH 22|POP3 110|HTTPS443|LPR/LPD515|

|MSSQL 1433/1434|windowsFileShare|135,137,138,139,445|
|Oracle 1521|H.323(SIP) 1720|PPTP 1723|
|RDP 3389| HPprint 9100|

>Web應用程序漏洞掃描  已知漏洞工具
>> 初次掃描所有應用程式檢測遺留WEB問題、把一份更新到生產環境執行Web應用程序掃描>>變更部屬到生產環境 針對掃描修改過的應用程式
>>>定期掃描所有應用程序或試用優先即安排掃描任務
>數據庫漏洞掃描 sqlmap, web應用會提供這接數據庫入口、攻擊有機會直接攻擊
>漏洞管理工作流程
>>檢測：識別漏洞結果、驗證：驗證漏洞是否誤判、修復：採用供應商提供補丁修改配置規避漏洞折衷方式、安裝WAF
>>根據嚴重性、利用可能性、修復可能性決定漏洞修補順序

>滲透測試  嘗試突破安全控制入侵目標驗證漏洞存在、結合不同工具技術獲取訪問權限
>避免可能中斷系統訪問或損害資料儲存數據、需要高層充分的授權、OWASP Web, OSSTMM, NIST800-115,FedRAMP,PCIDSS補充信息
>>規劃階段：範圍和規則並達成共識跟經過授權、收集和發現階段：利用工具收集環境信息和系統功能、識別系統開放的端口
>>攻擊階段：利用漏洞利用工具來破壞系統安全、報告階段：總結測試結果跟提出安全建議
->白盒滲透測試：提供相係信息、縮短攻擊時間提升發現漏洞可能性
->灰盒滲透測試：部分知識測試、但由於成本和時間受限通常使用這種測試方式
->黑盒滲透測試：不給任何信息模擬外部攻擊者、試圖獲取有關業務和技術環境
>入侵模擬攻擊BAS 自動化滲透、將威脅只表注入系統和網路觸發其他安全控制是立即檢測阻止、缺陷可能表明組織需要更新或增強控制措施

合規檢查
-滿足目標明確的安全控制措施、安全測試和評估規劃重要組成、監管要求定期執行合規性檢查、確保正常運轉
```
測試軟件
```
擁有資源訪問特權、處理敏感信息、依賴儲存信息的數據庫、關鍵業務功能故障對業務嚴重破壞

代碼審查code review==peer review同行評審 決定允許移植到生產環境、
-六步驟：規劃、總攬、準備、審查、返工、追蹤
-同行評審：在會議上一起走查代碼、高級開發人員手動檢查跟簽署、用自動化工具檢測常見應用缺陷
-SAST  靜態應用程序安全檢測：再不運行狀態下、通過分析源代碼或編譯後評估軟件安全性的自動化工具、用於設計、建構、測試
-DAST  動態應用程序安全檢測：運行環境下檢測安全性、常用於他人開發軟件因無法接觸底層源代碼、要避免服務意外中斷、模擬業務輸出和預期比對
-IAST  交互式應用程序安全測是：運行時行為和性能、流量框架組建和後台連結實時分析
-RASP  運行時應用程序自我保護：攔阻應用程序的調用並驗證數據請求
道德披露 發現未知漏洞、盡可能實施補償控制措施或開發商補丁、漏洞提供者應預留合理時間來修復在做公開披露
-模糊測試  特殊動態測試技術、不同類型輸入測試、向軟件提供無效輸入、隨機產生、特殊構造輸入、監察是否崩潰、緩衝溢出或不可預知結果
>>
>>
接口測試
-
誤用案例測試
-
測試覆蓋率分析
-
網站監測
-
-

-
-
-
```
實施安全管理流程
```
日誌審查
-
帳戶管理
-
DR&BC
-
-
培訓和意識
-
-
-
-
```
