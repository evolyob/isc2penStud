ch.9 安全漏洞威脅對策
```
責任 
-員工執行自己任務、審計員負責監控環境存在違規行為，利益相關方負有保持機後可持續發展
-委外合作要執行正常操作和維護安全、意識新漏洞威脅的情資收集(IoC危害跡象)

硬件 設備中儲存內容不屬硬件
-CPU 處理器控制所有主要操作，系統跟編譯器把語言轉換成簡單指令
-執行類型
>多任務處理(處理執行命令順序)、多核(同時處理多任務)、多重(多個處理器處理一個多線程應用)
>多程序(批量處理、遇等待就執行下個)、多線程(多個任務在一個進程執行)

-保護機制 保護環(0:kernel、1&2：privileged驅動系統程序、3.user應用程序)
-進程狀態 就緒(立即恢復開始使用)、運行(CPU執行中)、等待(處理列對待執行)、管理程序(操作要求權限)、停止(結束終止)
-操作模式 用戶(應用程式下、基本模式防止不正當) 特權(修改系統配置、訪問CPU支持所有指令)
-儲存器 只讀PROM(燒入CD?)、可擦除只讀EPROM(紫外線照射擦除)、電子可擦除EEPROM(引腳電壓)、閃存(易失儲存介質、ssd usb sd卡)
-隨機存取儲存器 RAM(斷電會消失) 真內存(主內存 CPU定期刷新)、高緩存cacheRAM(重復使用保存運行數據)
>>>>"冷啟動攻擊，提取密鑰"
>動態RAM:CPU必須花時間刷新動態RAM的內容、靜態RAM:只要不斷電就內容保持不變不會定期刷新，速度快
-寄存器 register  計算邏輯單元ALU提供可直接訪問儲存位置、CPU同步調運行 (集成在CPU中)
-內存尋址 memory addressing 使用內存資源通過手段關聯內存的各個位址
>寄存器尋址|CPU完成操作會按寄存器地址方問寄存器內容
>立即尋址immediate|關聯數據方式，指令組成部分被提供給CPU
>直接尋址direct|獲得實際地址必須與正執行同個頁面，更靈活、因內存位址容易改而立即尋只需重新編成才能改。
>間接尋址indirect|指令部分提供給CPU內存地址，但不包含操作數據
>基址+偏移量群址 BASE+offset|使用保存在CPU的寄存器或指針中數值作為開始計算的基址跟內存位置檢索操作數
```
```
>二級內存 不能直接提供CPU使用數據，需要由操作系統讀取在保存到真實內存裡
>虛擬內存  擴展真實內存可尋空間(頁面pagefile交換swapfile)，檢查需訪問前檢查在不再
>>缺點 主內存跟二級之間交換數據分頁操作速度慢但

>主和輔助存儲設備 HDD、SSD、閃存驅動器(USB)、tape、CD、DVD、閃存卡(記憶卡)
>易失性儲存(RAM)跟非易失性儲存設備(ROM)  關閉電源或循環時丟失數據的可能，斷電後依然保存電量
>隨機存取random access|從設備RAM任何位置立即讀取/寫入的隨機存取
>順序存取sequential   |不具備靈活性，到達既定位置前讀取物理儲存的所有數據

儲存介質安全
-數據殘留即使被刪除或格式化，需要被覆蓋所有痕跡或破壞不可再修復。
-SSD無法完全覆蓋跟消磁、輔助存儲設備易失竊(機密性)，透過加密技術來確保安全
發射安全 (WIFI、藍芽、GPS、4G5G)電磁或射頻
-法拉第籠FaradayCage|可移動包上金屬絲網，吸收和防止電磁特殊信號進出、
-白噪音 | 假通訊流(聽得到)掩蓋隱藏，但不會阻止用戶對信號發射有效使用
-控制區 =法拉第籠+白噪音在特定區域

輸出入設備
-顯示器(肩窺)、打印機(所有打印資料無限保留期)、滑鼠鍵盤(點擊動作)、有無線網卡(只能用一個)

基本輸出入系統 basic input/output system BIOS  被UEFI取代
統一可擴展固件接口 unified extensible firmware interface UEFI 
-啟動時間縮短、再bios支援滑鼠、獨立CPU具有網路支持、測量啟動、引導認證，向前向後兼容
-更新UEFI、BIOS韌體叫做flashing，被放惡意代碼就做 phlashing(RCE)
-引導認證boot attestion |阻止加載或安裝未得到批准簽章的操作，只能驅動程式和操作系統批准
-測量啟動measured boot  |每筆透過TPM(可信平台模塊)進行哈希計算結果會被保存，就像個監視器紀錄所見事。

基於客戶端的系統
移動代碼(applet)轉移客戶端處理用戶請求、用本地生成數據不必透過遠程服務器、不會接收做輸入被提供小程序任何數據 保護安全跟隱私
-濫用javaScript | 不可信來源的惡意JS代碼(XSS, XSRF/CSRF) -->即時更新、同源限制、HTML的header驗證
本地緩存cookie 臨時網路下載文件儲存，短時間保留、縮小緩存、禁用預加載、手動擦除緩存

基於服務器的系統 DoS
數據流控制  數據再進程、設備、網路、通信信道最小延時、高效傳輸、確保不過載溢出(由router, SW控)
負仔均衡器 基礎設施利用率、最小響應時間、最大吞吐

對稱多處理   SMP symmertric multiprocessing  多個處理器共同處理一個工作
非對稱多處理 AMP asymmertric multiprocessing  只執行特定操作任務，專有處理器
大規模並行處理 MPP massive parallel processing 大任務分解分派結果組合返回請求方

對等網絡P2p peer to peer (VoIP, BitTorrent)
-沒有中央、即時服務。安全方案:集中控制、監督、管理、過濾、耗盡可用帶寬
```
```
工業控制系統 ICS
-PLC獨立方式控制單設備、DCS有限範圍連接多個PLC作集中控制管理監督、SCADA大規模物理範圍多個DCS跟各個PLC連接起來

分布式系統 distributed system/分布式計算環境 DCE ||-同質成員、共同功能目標操作(對等式架構)
-固有安全問題:組件之間關聯性 
-未授權用戶訪問、冒充模仿欺詐、繞過或禁用安全控制、竊聽操作通信、身分認證授權不足、缺法監控審計日誌紀錄、無法追則
-多因子驗證、儲存傳輸處理的同態加密、保持一至安全配置監視監督、數據主權問題(隱私、保密性、可訪問性)

高性能計算系統HPC high performance computing MPP超級計算機
-解決方案三要素：計算資源、網絡能力、儲存容量、良性拒絕服務(DoS)
-實時操作系統 RTOS real time operating system 通常保存在rom只讀存儲器
>事件驅動RTOS 優先級操作多個任務或任務切換，當時序安排或計時是要執行最任務最關鍵部分時
>只側重在單一目的沒有給安全性留空間，收到偽造或惡意的處理請求而過載受干擾，應採隔離跟監控措施

物聯網智能設備 設備自動化 遠程控制 人工智能
-安全問題 訪問控制跟加密，需要部署隔離單獨網路(三個啞路由)、即時補丁、限制物理邏輯訪問、監控所有活動、跟防火牆跟過濾

工業物聯網 IIoT  industrial internet of things
-即成雲服務 可用於執行數據收集、分析、優化、自動化、包過邊緣計算和霧計算

邊緣計算  不必將數據發送回主處理器，熱門站點託管靜態或簡單頁面、微控制器、坎入式設備
霧計算    靠傳感器、物聯網設備 把數據回傳中央位置進行處理

坎入式系統(設備) embedded system | 有內存和外設接口集成的芯片、通常附著較大產品關聯一組有限特定功能為核心
>通常是是靜態系統很難改變設備運行方式，需透過原廠補丁、專用生產網路隔離

靜態系統 非持久性環境、無狀態系統(ATM機、遊戲機)執行有限範圍任務、一但設定完成保持不變
-硬件故障配置變更、軟件錯誤設置變更漏洞利用都會改變環境造成非預期餐做參數

可連網設備(坎入式設備) 有線無線、通常是靜態系統

信息物理融合系統 側重在物理世界的結果(溫度、光、移動、濕度) 屬於靜態系統

坎入式和靜態系統的安全問題 依靠可更換、充電電池、充電線
-只能使用特定版本wifi頻率、速度或加密、特殊通信協定(zigbee,低功耗藍牙)密碼技術有限、預先共享密鑰、很難補丁、傳輸範圍有限
-外部通信隔離、Vlan、網路分段、標籤、經測試授權手動更新變更、
-包裝器wrapper加密連結、基於證書手動身份驗證、數位簽章、完整性檢查，為了得到預期和授權更新可用於系統

專用設備   避免遠程控制、進用、訪問、攻擊
-網路功能若是非必要就禁用、有沒連接雲服務、通信加密、身份驗證、未授權輕易訪問
```
```
微服務 通常是單向操作很少依賴其他元素 開發週期短，不可變動架構 確保與API之間輸出入

基礎設施即代碼 IaC infrastructure as code 根軟件一樣板控、部屬前測試、訂製測試、合理性檢查、回歸測試
不可變架構 immutable architecture 部屬後絕不改變，遇修改直接新替換舊服務器
-優點:可靠性、一致性、可預測部屬進程

虛擬化技術管理  縮減物理服務器 省電力 空調暖通
-type 1  本地或裸機沒有作業系統，管理程序安裝在硬件上讓最大化資源，用於服務器虛擬化
-type 2  硬件上有標準常規作業系統，桌面部屬，安全沙箱測試新代碼

虛擬軟件 應用程序打包後不對主機操作系統操作和訪問，都會被隔離管理器攔截並記錄、移動介質上執行、容器化
虛擬化網路  一個控制台或接口可監視虛擬網路每個方面、網絡分區
虛擬桌面基礎設施 VDI 遠程訪問中央服務器的工作站或桌面，降低終端設備風險常以靜態模式
軟鑑定亦可見性  SDV 檢測、反映、響應自動化，(SIEM、IDS、授權、分析監控、身分驗證、備份)
服務器蔓延  提供工作負載或生產力不足證明存在合理性
影子IT    不知情或沒有允許擅自部屬、不遵守安全策略。不會補丁更新缺乏相關文件沒有相關文件。可以是物理設備、虛擬基、雲服務
被虛擬環境忽略的操作 VENOM  在虛擬基之間互相挑轉或訪問到主機的破壞

容器化  消除操作系統重復性元素(bin+libs)、把所需應用程序放進一個容器、包含封閉應用程序。。解決允許自定義容器噁銷戶應用程序數量

無服務器架構  雲的概念 
-FaaS  集中在代碼邏輯，不必理會特定參數或限制。操作完就停止 、需要時就叫貨
-PaaS  只有程式碼 runtime事客戶負責，Scaling 要自己升級或加開機器
```
```
移動設備  丟失失竊造成洩漏、傳輸惡意代碼、竊聽、惡意網站腳本、不安全數據傳輸
-強化版安卓 SEAndroid linux集成到安卓框架增加了MAC 中間漸強制訪問控制MMAC減少後台特權調整
移動設備安全性能
-MDM 移動設備管理 受監控、遠程管理、故障排除、推送或移除應用程序、管理數據、執行配置設定
-UEM 統一端點管理 提供平台控制移動設備pc, iot, ics 取代MDM和EMM企業移動性管理

設備身份驗證 NFC RFID PIN 生物辨識 閒置時鎖屏、口令儲存加密
全設備加密FDE full device encrypt 預先加密、鎖屏時數據和端口就禁用
通信保護 VoIP 電腦設備可能提供加密功能
遠程擦除 通過移動電話服務或連接互聯網觸發 刪除和恢復原廠設定，應對設備進行加密
設備鎖定 屏幕鎖 認證失敗超過次數懲罰性鎖定，單通過藍牙、無限、USB是無法保護

定位服務 基於位址的授權或拒絕訪問 (MAC,IP,OSver.,domain)
移動內容管理 MCM 考慮設備的功能、容量、螢幕大小、帶寬限制、內存、處理劑能力基礎上實施控制 
-過濾內容可根據ip、域名、協議、關鍵字阻擋，常被用作防火牆而不是內置機制．
應用程序控制管理哪些可被安裝或強制執行哪些設置支持基線或保持其他形式合規 ，應用程序允許列表(白名單)黑名單

儲存分段 操作系統跟預裝應用程式跟用戶數據分開、授予擁有權和遠程(擦除)相關權限
資產跟蹤和存貨控制 驗證是指定授權用戶持有、拍照掃條碼,QR，RFID,NFC 電子標籤
可移動儲存  適當訪問權限制、教育訓練、或用禁用功能限制
連接方法 RFID,NFC,WiFi(IEEE802.11), 藍牙(IEEE802.15),zigbee,4G5G
禁用無用性能  不重要應用程序和性能應被移除和禁用，縮小移動設備受攻擊面
生根(越獄) 運許用戶更改核心操作 和運行商店不提供的應用程序、啟用進用硬件性能
旁加載sideloading  透過文件傳輸或透過介質(usb)安裝到設備，繞過安全設置限制手段．應要求必須有數位簽章才可執行
自定義固件 安裝選自定義固件替代默認固件，來移除膨脹軟件或移除性能、優化性能、簡化操作系統，應禁止帶自定義固件的移動設備
運營商解鎖  未解鎖狀態無法使用其他電信網路使用該設備，沒必要禁止
-SIM卡用於全球移動通信系統GSM手機，而碼分多址CDMA的手機使用電子序號列ESN燒在手機內．
固件無線OTA overTheAir更新 讓MDM/UEM廠商能夠更新他們的管理產品、適當監控更新部署跟配置、組織的補丁配置變更管理策略應適用移動設備
密鑰管理 失敗大歸於密鑰管理非算法，因要無線訪問更強的隨機數生成器RNG，應減少丟失或洩漏風險的儲存方式，最佳選是可移動硬件(microSD HSM)或可信平台模塊TPM
憑證管理  安全儲存大量憑證集的方法，主憑證集來解鎖數劇集，應為程序或網站自動登入選項
-口令庫(passwd vault)憑證軟件管理器，本身是加密必須解鎖才能獲得訪問儲存項目權限．通常用於口令密鑰派生函數(PBKDF2)or bcrypt把主口令換成合理強度的加密密鑰
```
```
自帶設備 BYOD bring your own device 非所有移動設備具備充分安全性能 故不允許進入生產網路．也會把員工自己的個資暴露給組織．
公司擁有個人使用 COPE 組織買設備給員工在允許網絡上使用，避免錯誤暴露組織數據的風險或透過設備把惡意軟件帶入，員工自身個資被機構訪問．
> 傳播惡意軟件、業務數據和個人數據混雜在同一設備上可能性
公司擁有移動設備戰略COMS corporate-owned mobile strategy或公司擁有僅供業務COBO corporate-owned bussiness only
>公司購買可支持安全策略合規設備，只用於公司工作目的明確分開

數據擁有權  按類型隔離數據 應明定數據擁有權力策略，MDM/UEM有不在不影響個人數據分隔功能並支持業務數據清理、備份解決方案降低遠程擦除及設備故障損壞造成數據丟失、明定誰負責設備維修、更換、或技術支持或由個人及服務供應商負責

補丁和更新管理。誰負責安裝 可用更新、更新前測試、透過什麼方式更新、是否無法使用的版本
安全產品管理 防毒、反惡意、反間諜軟件掃描、防火牆, HIDS 明確應使用哪些程序
取證  個人設備擁有者可拒絕調查人員訪問自己設備上內容，組織可安裝次級帳戶、主口令或遠程管理工具訪問設備內容

-
-
-
-
-
-
-
-


```
